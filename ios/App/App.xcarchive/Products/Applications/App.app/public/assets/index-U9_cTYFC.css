:root{--bg-color: #FDF8F3;--bg-gradient: linear-gradient(180deg, #FDF8F3 0%, #F5F0EB 100%);--card-bg: #FFFFFF;--primary: #4ECDC4;--primary-dark: #1A535C;--primary-text: #1A535C;--accent: #D63031;--accent-light: #FF7675;--success: #1B5E20;--warning: #E67E22;--danger: #B71C1C;--text-primary: #2D3436;--text-secondary: #444;--text-muted: #636E72;--shadow-color: rgba(26, 83, 92, .1);--shadow-soft: 0 .25rem 1.25rem rgba(0, 0, 0, .05);--shadow-card: 0 .5rem 1.5rem rgba(26, 83, 92, .08), 0 .125rem .375rem rgba(0, 0, 0, .04);--radius-sm: .75rem;--radius-md: 1.25rem;--radius-lg: 1.75rem;--radius-xl: 2.5rem;--btn-primary-bg: #1A535C;--btn-primary-text: #FFFFFF;--btn-blue-bg: #0056D2;--btn-blue-text: #FFFFFF;--fitz-noun: #FFEB3B;--fitz-noun-text: #2D3436;--fitz-verb: #2E7D32;--fitz-verb-text: #FFFFFF;--fitz-adj: #1565C0;--fitz-adj-text: #FFFFFF;--fitz-social: #C2185B;--fitz-social-text: #FFFFFF;--fitz-misc: #E65100;--fitz-misc-text: #FFFFFF;--fitz-question: #6A1B9A;--fitz-question-text: #FFFFFF;--gray-light: #F2F2F7;--gray-border: #E5E5EA;--transition-zen: all .4s cubic-bezier(.4, 0, .2, 1);--transition-pop: all .3s cubic-bezier(.34, 1.56, .64, 1);--transition-spring: all .5s cubic-bezier(.175, .885, .32, 1.275)}@media(prefers-color-scheme:dark){:root{--bg-color: #000000;--bg-gradient: linear-gradient(180deg, #1C1C1E 0%, #000000 100%);--card-bg: #1C1C1E;--primary: #4ECDC4;--primary-dark: #4ECDC4;--primary-text: #1A535C;--text-primary: #FFFFFF;--text-secondary: #EBEBF5;--text-muted: #8E8E93;--shadow-color: rgba(0, 0, 0, .5);--gray-light: #1C1C1E;--gray-border: #38383A;--btn-primary-bg: #4ECDC4;--btn-primary-text: #1A535C;--btn-blue-bg: #0A84FF;--btn-blue-text: #FFFFFF}body{background:#000}.ios-setting-card,.ios-row,#strip-container,#controls-content{background:#1c1c1e;color:#fff}.ios-row{border-bottom-color:#38383a}.ios-segmented-control{background:#38383a}.ios-segmented-control .selection-pill{background:#636366}.ios-segmented-control button{color:#fff}input.ios-input,#sentence-strip,.ios-close-btn{background:#2c2c2e;color:#fff}.ios-large-title{color:#fff}.app-item:not(.is-hidden) .app-label{color:#fff}}body.literacy-mode{font-family:Comic Sans MS,Lexend,OpenDyslexic,-apple-system,BlinkMacSystemFont,sans-serif}.skip-link{position:absolute;top:-40px;left:0;background:var(--primary);color:#fff;padding:8px;z-index:5000;transition:top .3s;text-decoration:none;font-weight:700;border-radius:0 0 8px}.skip-link:focus{top:0}:focus-visible{outline:4px solid var(--primary)!important;outline-offset:4px!important;box-shadow:0 0 0 8px #4ecdc44d!important;border-radius:inherit!important}.app-item:focus-visible .app-icon{transform:scale(1.05)}*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}*::-webkit-scrollbar{display:none}body{font-family:-apple-system,BlinkMacSystemFont,SF Pro Rounded,SF Pro Text,Roboto,sans-serif;background:var(--bg-gradient);background-attachment:fixed;margin:0;padding:0;display:flex;flex-direction:column;height:100dvh;overflow:hidden;user-select:none;-webkit-user-select:none;touch-action:pan-x pan-y;-webkit-touch-callout:none;overscroll-behavior:none;color:var(--text-primary);font-size:1rem;padding-top:env(safe-area-inset-top,0);padding-bottom:env(safe-area-inset-bottom,0);padding-left:env(safe-area-inset-left,0);padding-right:env(safe-area-inset-right,0);transition:var(--transition-zen)}button.primary,.primary-button{background:var(--btn-primary-bg);color:var(--btn-primary-text);box-shadow:0 .25rem 1rem #1a535c4d;font-weight:800;border:none;border-radius:var(--radius-md);padding:1rem 2rem;cursor:pointer;transition:var(--transition-pop)}.primary-button:active,button.primary:active{transform:scale(.95)}#breadcrumbs{padding:1rem 1.5rem .5rem;font-size:clamp(1.2rem,4vw,1.75rem);font-weight:800;color:var(--text-primary);letter-spacing:-.03em;flex-shrink:0;display:flex;align-items:center;gap:.5rem}.phase-label-badge{background:transparent;color:var(--text-secondary);padding:.375rem .875rem;border-radius:1.25rem;font-size:.7rem;font-weight:700;text-transform:uppercase;letter-spacing:.03em;border:1.5px solid var(--text-muted)}#grid-container{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;align-items:center;align-content:center;flex:1;padding:1.25rem;gap:1rem;overflow-y:auto;-webkit-overflow-scrolling:touch}.app-item{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.625rem;position:relative;cursor:pointer;min-width:4.5rem;min-height:4.5rem;animation:fadeIn .3s ease;touch-action:manipulation}.app-item:active{transform:scale(.92);opacity:.7}.size-standard .app-item{width:calc(25% - 1rem);max-width:8.75rem}.size-big .app-item{width:calc(33.33% - 1rem);max-width:11.25rem}.size-super-big .app-item{width:calc(50% - 1rem);max-width:15rem}.size-medium .app-item{width:calc(20% - 1rem);max-width:6.25rem;min-width:3.5rem}.size-dense .app-item{width:calc(16.66% - 1rem);max-width:5rem;min-width:3rem}.phase-large-grid{display:flex!important;flex-direction:column!important;align-items:center!important;justify-content:center!important;flex:1!important;padding:2.5rem!important;margin:0!important;z-index:5;overflow:hidden!important}.phase-large-grid .app-item{flex-direction:row!important;background:#fff!important;border-radius:2rem!important;box-shadow:0 1.25rem 3.75rem #0000001f!important;padding:1.5rem!important;gap:1.875rem!important;border:none!important;margin:auto!important;height:auto!important}.size-standard.phase-large-grid .app-item{width:80vw!important;max-width:20rem!important}.size-big.phase-large-grid .app-item{width:85vw!important;max-width:27.5rem!important}.size-super-big.phase-large-grid .app-item{width:90vw!important;max-width:35rem!important}.phase-large-grid .app-icon{width:auto!important;height:auto!important;aspect-ratio:1/1!important;background:transparent!important;box-shadow:none!important;flex-shrink:0!important}.size-standard.phase-large-grid .app-icon{height:6.25rem!important;font-size:4.375rem!important}.size-big.phase-large-grid .app-icon{height:8.75rem!important;font-size:6.25rem!important}.size-super-big.phase-large-grid .app-icon{height:11.25rem!important;font-size:8.125rem!important}.phase-large-grid .app-label{font-weight:800!important;color:#000!important;text-align:left!important;flex:1!important;white-space:normal!important;margin:0!important}.size-standard.phase-large-grid .app-label{font-size:2rem!important}.size-big.phase-large-grid .app-label{font-size:2.625rem!important}.size-super-big.phase-large-grid .app-label{font-size:3.25rem!important}.app-icon{width:100%;aspect-ratio:1 / 1;background:var(--card-bg);border-radius:28%;display:flex;align-items:center;justify-content:center;font-size:3rem;box-shadow:var(--shadow-card);position:relative;transition:var(--transition-pop);overflow:hidden}.phrase-storyboard{display:flex;gap:2px;width:100%;height:100%;align-items:center;justify-content:center;padding:8px;background:#fff}.storyboard-icon{font-size:1.5rem;display:flex;align-items:center;justify-content:center;flex:1}.storyboard-img{width:100%;height:auto;max-height:80%;object-fit:contain}.size-big .storyboard-icon{font-size:2.2rem}.size-super-big .storyboard-icon{font-size:3rem}.app-label{font-size:.875rem;font-weight:600;color:var(--text-primary);text-align:center;line-height:1.2}#settings-button{position:fixed;bottom:24px;right:24px;width:50px;height:50px;border-radius:50%;background:#8e8e9326;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);color:#8e8e93;border:1.5px solid rgba(142,142,147,.2);cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:20px;z-index:90;transition:var(--transition-pop)}#settings-button:active{background:#8e8e934d}#controls{position:fixed;top:0;left:0;width:100%;height:100%;background:#0006;backdrop-filter:blur(4px) saturate(180%);-webkit-backdrop-filter:blur(4px) saturate(180%);z-index:2000;display:flex;align-items:flex-end;justify-content:center;opacity:0;pointer-events:none;transition:opacity .3s ease}#controls:not(.collapsed){opacity:1;pointer-events:all}#controls-content{background:#fffc;backdrop-filter:blur(30px) saturate(210%);-webkit-backdrop-filter:blur(30px) saturate(210%);border-top-left-radius:32px;border-top-right-radius:32px;padding:24px;width:100%;max-width:600px;max-height:92dvh;overflow-y:auto;-webkit-overflow-scrolling:touch;position:relative;transform:translateY(100%);transition:transform .4s cubic-bezier(.32,.72,0,1);box-shadow:0 -10px 40px #0000001a;padding-bottom:calc(24px + env(safe-area-inset-bottom,0px))}.ios-segmented-control{display:flex;position:relative;background:#e3e3e8;padding:2px;border-radius:10px;margin-bottom:25px;isolation:isolate}.ios-segmented-control .selection-pill{position:absolute;top:2px;left:2px;height:calc(100% - 4px);background:#fff;border-radius:8px;box-shadow:0 3px 8px #0000001f,0 3px 1px #0000000a;transition:transform .25s cubic-bezier(.4,0,.2,1);z-index:-1}.ios-segmented-control button{flex:1;border:none;background:transparent;padding:.625rem 0;font-size:.8125rem;font-weight:600;color:#000;cursor:pointer;z-index:1;transition:color .2s;min-height:2.75rem;display:flex;align-items:center;justify-content:center}.ios-setting-card{background:#fff;border-radius:12px;margin-bottom:25px;overflow:hidden;box-shadow:0 1px 2px #0000000d}.ios-setting-group-header{font-size:13px;text-transform:uppercase;color:#6e6e73;margin:0 16px 8px;font-weight:400;letter-spacing:-.01em}.ios-row{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;min-height:2.75rem;border-bottom:1px solid #F2F2F7;background:#fff;transition:background .2s;cursor:pointer}.ios-row:last-child{border-bottom:none}.ios-row:active{background:#e5e5ea}.ios-chevron{color:#c4c4c6;font-size:18px;margin-left:8px}.apple-red-button{width:100%;padding:14px;background:#ff3b30;color:#fff;border:none;border-radius:12px;font-weight:600;font-size:17px;display:flex;align-items:center;justify-content:center;gap:8px;cursor:pointer;transition:opacity .2s;margin-bottom:20px}.apple-red-button:active{opacity:.7}.ios-bottom-sheet-overlay{position:fixed;inset:0;background:#0006;backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);z-index:2500;display:flex;align-items:flex-end;justify-content:center;animation:fadeIn .2s ease-out}.ios-bottom-sheet{background:#ffffffd9;backdrop-filter:blur(30px) saturate(210%);-webkit-backdrop-filter:blur(30px) saturate(210%);width:100%;max-width:600px;max-height:90vh;border-top-left-radius:20px;border-top-right-radius:20px;display:flex;flex-direction:column;box-shadow:0 -10px 40px #0000001a;animation:sheetUp .4s cubic-bezier(.32,.72,0,1);padding-bottom:env(safe-area-inset-bottom,20px)}@keyframes sheetUp{0%{transform:translateY(100%)}to{transform:translateY(0)}}.ios-sheet-header{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid rgba(0,0,0,.1)}.ios-sheet-content{padding:20px;overflow-y:auto;-webkit-overflow-scrolling:touch}.ios-sheet-title{font-size:17px;font-weight:600;margin:0}.ios-done-button{background:transparent;border:none;color:#007aff;font-size:1.0625rem;font-weight:600;cursor:pointer;padding:.5rem;min-width:2.75rem;min-height:2.75rem;display:flex;align-items:center;justify-content:center}.ios-cancel-button{background:transparent;border:none;color:#007aff;font-size:1.0625rem;cursor:pointer;padding:.5rem;min-width:2.75rem;min-height:2.75rem;display:flex;align-items:center;justify-content:center}.ios-nav-header{padding:10px 20px 15px;flex-shrink:0;display:flex;flex-direction:column;gap:10px}.ios-nav-top{display:flex;justify-content:space-between;align-items:center;min-height:32px}.ios-back-button{background:transparent;border:none;color:#007aff;font-size:17px;display:flex;align-items:center;gap:4px;cursor:pointer;padding:0;margin-left:-8px}.ios-chevron-left{font-size:24px;font-weight:300;margin-top:-2px}.ios-nav-badges{display:flex;gap:8px}.ios-context-badge,.ios-phase-badge{background:#e3e3e8;color:#6e6e73;padding:4px 10px;border-radius:6px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.02em}.ios-context-badge{background:#5856d61a;color:#5856d6}.ios-large-title{font-size:clamp(1.75rem,5vw,2.125rem);font-weight:700;margin:0;color:#000;letter-spacing:-.02em}#controls:not(.collapsed) #controls-content{transform:translateY(0)}.visual-schedule-container{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;padding:30px;gap:30px}.visual-schedule-item-display{width:240px;height:240px;border-radius:var(--radius-xl);background:var(--card-bg);display:flex;align-items:center;justify-content:center;font-size:8rem;overflow:hidden;border:6px solid var(--primary);box-shadow:var(--shadow-card)}.visual-schedule-label{font-size:3rem;font-weight:800;color:var(--text-primary)}.dashboard-modal{position:fixed;inset:0;background:#0006;backdrop-filter:blur(10px) saturate(180%);-webkit-backdrop-filter:blur(10px) saturate(180%);z-index:3000;display:flex;align-items:center;justify-content:center;padding:20px;animation:fadeIn .3s ease}.dashboard-content{background:var(--bg-color);width:100%;max-width:850px;max-height:90vh;overflow-y:auto;padding:40px;border-radius:var(--radius-xl);box-shadow:0 20px 60px #0003}.dashboard-stat-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:20px;margin-bottom:40px}.dashboard-stat-card{background:#fff;padding:24px;border-radius:var(--radius-lg);text-align:center;box-shadow:var(--shadow-soft);border:1px solid var(--gray-border);transition:var(--transition-zen)}.dashboard-stat-value{font-size:2.5rem;font-weight:800;color:var(--primary-dark);line-height:1}.dashboard-stat-label{font-size:.85rem;font-weight:700;color:var(--text-secondary);text-transform:uppercase;letter-spacing:1px;margin-top:10px}.dashboard-card{background:#fff;padding:30px;border-radius:var(--radius-lg);margin-bottom:30px;box-shadow:var(--shadow-soft);border:1px solid var(--gray-border)}.dashboard-btn{padding:12px 24px;border-radius:var(--radius-md);border:none;cursor:pointer;font-weight:700;transition:var(--transition-pop);font-size:1rem}.dashboard-btn.primary{background:var(--primary);color:var(--text-primary)}.dashboard-btn.success{background:var(--success);color:var(--text-primary)}.dashboard-btn.secondary{background:var(--gray-light);color:var(--text-secondary)}.ios-modal-overlay{position:fixed;inset:0;background:#0006;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);z-index:3000;display:flex;align-items:center;justify-content:center;padding:1.25rem;animation:fadeIn .2s ease-out}.ios-modal-content{background:#fff;border-radius:1.5rem;width:100%;max-width:400px;overflow:hidden;box-shadow:0 1.25rem 3.75rem #0003}.ios-modal-header{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.25rem;border-bottom:1px solid #F2F2F7}.ios-modal-header h3{margin:0;font-size:1.0625rem;font-weight:600}.ios-close-btn{background:#f2f2f7;border:none;width:2rem;height:2rem;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:.75rem;font-weight:700;color:#8e8e93}.ios-input-group{display:flex;flex-direction:column;gap:.375rem;margin-bottom:1rem}.ios-input-group label{font-size:.8125rem;font-weight:600;color:#8e8e93;text-transform:uppercase;padding-left:.25rem}.ios-input{background:#f2f2f7;border:none;border-radius:.75rem;padding:.75rem 1rem;font-size:1.0625rem;width:100%;outline:none}.apple-blue-button{background:var(--btn-blue-bg);color:var(--btn-blue-text);border:none;border-radius:.75rem;padding:.875rem;font-size:1.0625rem;font-weight:600;cursor:pointer;width:100%;transition:opacity .2s}.apple-blue-button:disabled{opacity:.4;cursor:not-allowed}.app-item.is-scanned .app-icon{box-shadow:0 0 0 6px var(--primary),0 0 20px var(--primary);transform:scale(1.05);z-index:10}.app-item.is-scanned .app-label{color:var(--primary);font-weight:800;transform:scale(1.1)}.app-item.is-hidden{opacity:.4;filter:grayscale(.8);pointer-events:none}.app-item.is-hidden.is-editing{opacity:.6;filter:grayscale(.4);pointer-events:all}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@media(orientation:landscape){#grid-container{padding:1rem 2rem;gap:1.5rem}.size-standard .app-item{width:calc(20% - 1.5rem)}.size-big .app-item{width:calc(25% - 1.5rem)}.ios-nav-header{flex-direction:row;align-items:center;justify-content:space-between;padding:10px 40px}.ios-large-title{font-size:1.5rem}}body{line-height:1.5;letter-spacing:normal}@media(max-width:320px){:root{--app-label-size: .75rem}}@media(min-width:768px){:root{--app-label-size: 1rem}}.app-label{font-size:var(--app-label-size, .875rem);font-weight:600;color:var(--text-primary);text-align:center;line-height:1.2}#strip-container{padding:10px 20px;background:#fff;border-bottom:1px solid #E5E5EA;z-index:100;flex-shrink:0}#sentence-strip{display:flex;align-items:center;gap:12px;background:#f2f2f7;border-radius:16px;padding:8px 12px;min-height:90px}.strip-wrapper{display:flex;align-items:center;gap:8px;flex:1;overflow-x:auto;padding-bottom:4px;-webkit-overflow-scrolling:touch}.strip-placeholder{color:#8e8e93;font-size:1rem;width:100%;text-align:center}.strip-item{display:flex;flex-direction:column;align-items:center;justify-content:center;background:#fff;border-radius:10px;min-width:64px;height:74px;padding:4px;position:relative;box-shadow:0 2px 4px #0000000d;cursor:pointer;animation:popIn .3s cubic-bezier(.34,1.56,.64,1)}@keyframes popIn{0%{transform:scale(.8);opacity:0}to{transform:scale(1);opacity:1}}.strip-icon-wrapper{font-size:1.75rem;line-height:1}.strip-img{width:32px;height:32px;object-fit:contain}.strip-label{font-size:.625rem;font-weight:700;margin-top:2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:60px}.strip-item-remove{position:absolute;top:-6px;right:-6px;background:#ff3b30;color:#fff;width:18px;height:18px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:700;opacity:0;transition:opacity .2s}.strip-item:hover .strip-item-remove{opacity:1}.strip-actions{display:flex;flex-direction:column;gap:8px}.strip-action-btn{width:40px;height:40px;border-radius:12px;border:none;display:flex;align-items:center;justify-content:center;font-size:20px;cursor:pointer;transition:var(--transition-pop)}.strip-action-btn:disabled{opacity:.3;cursor:not-allowed}.speak-btn{background:var(--primary);color:#fff}.clear-btn{background:#e5e5ea;color:#8e8e93}.strip-item:active{transform:scale(.95)}
